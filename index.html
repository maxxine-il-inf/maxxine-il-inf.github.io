<!doctype html><meta name=viewport content="width=device-width,initial-scale=1">
<title>GEN</title>
<style>
  html,body{margin:0;height:100%;background:#05080a;overflow:hidden}
  canvas{display:block;width:100vw;height:100vh}
  button{position:fixed;left:14px;top:14px;z-index:9;padding:10px 14px;border:1px solid #2a4650;
    background:rgba(6,20,24,.55);color:#dff;backdrop-filter:blur(8px);border-radius:12px;
    font:600 14px system-ui,-apple-system;letter-spacing:.2px}
  button:active{transform:scale(.98)}
</style>
<canvas id=c></canvas><button id=b>gen</button>
<script>
const c=document.getElementById('c'),x=c.getContext('2d'),b=document.getElementById('b');
let W,H,D=1,t=0,P=[],S=1;
const R=()=>{D=devicePixelRatio||1;W=innerWidth;H=innerHeight;c.width=W*D;c.height=H*D;x.setTransform(D,0,0,D,0,0)};
addEventListener('resize',R);R();

const rnd=(a=1)=>Math.random()*a, ri=(a)=>Math.floor(rnd(a));
function gen(){
  S=Date.now()%1e9; t=0; P=[];
  const n=160+ri(220), L=Math.min(W,H)*(.26+.22*rnd());
  const arms=2+ri(10), k=1+rnd(7), spin=(-1+2*rnd())*.7, wob=.3+rnd(1.6);
  for(let i=0;i<n;i++){
    const u=i/(n-1), ang=u*Math.PI*2*arms, r=L*Math.pow(u, .65+rnd()*.25);
    P.push({u,ang,r,ph:rnd(6.28),w:.5+3*u, a:.2+.8*(1-u), k, spin, wob});
  }
  x.lineWidth=1.2;
}
b.onclick=gen; gen();

(function A(){
  t+=0.012;
  // soft trail
  x.fillStyle="rgba(5,8,10,0.12)"; x.fillRect(0,0,W,H);
  x.save(); x.translate(W/2,H/2); x.rotate(t*.25);
  for(const p of P){
    const th=p.ang + t*p.spin + Math.sin(t*p.wob+p.ph)*0.35;
    const px=p.r*Math.cos(th), py=p.r*Math.sin(th);
    const r2=p.r*(.28+.85*Math.abs(Math.sin(t+p.u*6.28)));
    // geometric rosette stroke
    x.globalAlpha=p.a;
    x.strokeStyle=`hsl(${160+80*Math.sin(p.u*5+t*1.3)} 90% ${55+12*Math.cos(p.u*7-t)}%)`;
    x.beginPath();
    const m=3+((p.u*9)|0), s=6+((p.u*18)|0), rr=3+p.w*1.7;
    for(let j=0;j<s;j++){
      const a=(j/s)*Math.PI*2, q=rr*(1+0.35*Math.sin(a*m+t*p.k+p.ph));
      x.lineTo(px+q*Math.cos(a), py+q*Math.sin(a));
    }
    x.closePath(); x.stroke();
    // orbit ring
    x.globalAlpha=p.a*0.55;
    x.beginPath(); x.arc(px,py,2+6*Math.abs(Math.sin(t*1.8+p.u*9)),0,6.28); x.stroke();
    // faint connecting chords
    if((p.u*40|0)%7==0){
      x.globalAlpha=p.a*0.25;
      x.beginPath(); x.moveTo(px,py);
      x.lineTo(r2*Math.cos(th*1.4), r2*Math.sin(th*1.4));
      x.stroke();
    }
  }
  x.restore();
  requestAnimationFrame(A);
})();
</script
